import{Data as i}from"./index-758ea15a.js";import"./index-5a5e6398.js";function h(f,o,r,d){const e=i.Quests[f.questId],s=[];for(const t of f.rewardOffers){const n=e.reward_offers[t];if(!n)continue;const a=l(o,r,d,n.quest);a!==null&&s.push({type:"gem_step",requiredGem:r[a],rewardType:"quest"})}for(const t of f.rewardOffers){const n=e.reward_offers[t];if(!n)continue;const a=u(o,r,d,n.vendor);for(const c of a)s.push({type:"gem_step",requiredGem:r[c],rewardType:"vendor"})}return s}function l(f,o,r,d){for(let e=0;e<o.length;e++){const s=o[e];if(r.has(e))continue;const t=d[s.id];if(!t)continue;if(t.classes.length==0||t.classes.some(a=>a==f.characterClass))return r.add(e),e}return null}function u(f,o,r,d){const e=[];for(let s=0;s<o.length;s++){const t=o[s];if(r.has(s))continue;const n=d[t.id];if(!n)continue;(n.classes.length==0||n.classes.some(c=>c==f.characterClass))&&(r.add(s),e.push(s))}return e}export{h as buildGemSteps};
